{
  "name": "Data Commons Dev",
  "image": "gcr.io/datcom-ci/full-env:devcontainer",

  // Share network with the host
  "runArgs": ["--network=host"],
  // Or, if you prefer network isolation, make a list of ports inside the container available locally.
  // "forwardPorts": [
  //   8080,
  //   6060
  // ],

  "mounts": [
    // Make credentials from `gcloud auth login` available to the container.
    "source=${localEnv:HOME}/.config/gcloud,target=/home/docker/.config/gcloud,type=bind,consistency=cached"
  ],

  "postCreateCommand": "sudo chown -R docker ${containerWorkspaceFolder} 2> /dev/null",

  "customizations": {
    "vscode": {
      "extensions": [
        "ms-python.python",
        "esbenp.prettier-vscode",
        "redhat.vscode-yaml",
        "google.geminicodeassist",
        "eeyore.yapf",
        "minherz.copyright-inserter",
        "vscjava.vscode-java-pack",
        "dbaeumer.vscode-eslint",
        "mechatroner.rainbow-csv",
        "ms-python.isort",
        "redhat.java"
      ],
      "settings": {
        "editor.defaultFormatter": "esbenp.prettier-vscode",
        "editor.formatOnSave": true,
        "yapf.args": [
          "--style={based_on_style: google, column_limit: 80, indent_width: 2}"
        ],
        "isort.args": ["--profile", "google"],
        "[python]": {
          "editor.defaultFormatter": "eeyore.yapf",
          "editor.codeActionsOnSave": {
            "source.organizeImports": "explicit"
          }
        },
        "python.terminal.activateEnvironment": false,
        "geminicodeassist.recitation.maxCitedLength": 0,
        "terminal.integrated.defaultProfile.linux": "bash",
        "terminal.integrated.defaultProfile.osx": "bash"
      }
    }
  }
}
